# Classification data
This file describes the format of the classification file exports from the Zooniverse Project Builder. Each row is a single classification that provides the choices and markings of one user for one workflow for one subject.

**user_name** (string) - The username of the person doing the classification. If the username starts with 'not-logged-in-' then the classification is from a person not using a Zooniverse account.  

**user_id** (integer) - A unique ID corresponding to the user_name. If that the classification comes from a non-logged in classifier, this entry is blank.

**user_ip** (40-character hex string) - A constant random hex number generated for each user per export. *NOTE: This will change export to export but will uniquely id a user in each export.*

**workflow_id** (integer) - Indicates which workflow the classification is associated with using the numerical workflow id. You can find the workflow ids for your project be viewing each workflow in the project builder.

**workflow_name** (string) - The text name of the workflow done.

**workflow_version** (2 integers separated by '.') - The first integer represents the 'major' version and the second represents the 'minor' version. When tasks are changed (added, removed, etc.), the major version increments. When wording is changed, the minor version increments. Some major changes will increment both (e.g. adding a task increments major version but also adds text and thus increments minor version as well).

**created_at** (datetime in format YYYY-MM-DD HH:MM:SS UTC) - The time the classification is recorded in the Zooniverse database.

**gold_standard** (String) If the classification is associated with gold standard data it has 'TRUE' in gold standard column of the csv and looks like role in expert column. For project owner's account is says 'owner'. If the classification is not gold standard, then the expert column and gold_standard columns are empty.

**expert** Indicates if the classification was made my someone marked as an "expert" in the project builder. Blank if volunteer is not marked as an expert.

**metadata** {JSON} - Information about the user's interface and the classification itself. Content is in "key":"value" pairs, and "values" can be embedded JSON elements. Fields include:
  - **session** - Session ID hash?
  - **viewport** - The viewport is the user's visible area of a web page. This tells you the pixel dimensions of the classifier's browser window
  started_at = tells you the time the classification started
  - **user_agent** - is the browser and operating system information
  - **utc_offset** - gives the timezone of the classifier
  - **finished_at** - the time the classification ended with the Done button
  - **live project** - state of your project at the time of the classification. Whether you have your project's status on the visibility page set to 'development' or 'live.' Workflows can be edited during development, and subjects will never retire. In a live project, workflows are locked and can no longer be edited, and classifications count toward subject retirement.
  - **user_language** - language used in the browser. Web abbreviations. 'en' = English subject_dimensions -tells you the pixel width and height on the classifier's screen and also what the original size of the image is

Example:
  ```
  {"session":"2ef7c75a506a885d82ce792bbb90f7eb4a5a5b45838645294504a01f08c8f394","viewport":{"width":1920,"height":1084},"started_at":"2016-03-08T16:52:16.424Z","user_agent":"Mozilla/5.0 (Macintosh; Intel Mac OS X 10_10_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/49.0.2623.75 Safari/537.36","utc_offset":"0","finished_at":"2016-03-08T16:53:12.398Z","live_project":false,"user_language":"en","user_group_ids":[1383478,1383478,1383478,1383476],"subject_dimensions":[{"clientWidth":800,"clientHeight":600,"naturalWidth":800,"naturalHeight":600}]}
  ```

**annotations** {JSON} - The content of the user's classification subject_data. Note that this is contained inside [{}], not just {} as are other JSON columns. There is a JSON element for each task in the workflow. Content is in "key":"value" pairs, and "values" can be embedded JSON elements. Fields include:
- **task** - gives the task ID; these are generated by task order. first task created is called "init", second is T1 *wait a minute, has this changed??*
- **value** - the classification response for that task. Format depends on the type of task (question, marking, or filter task). Detailed annotation data provided under "Details" below.    
- **task_label** - the display text associated with that task.
gives you the task order, init =0, T1= 1st, TN=nth task. Value is the response, it will be an array if the answer is allowed multiple answers., task_label gives the text prompt the classifier received.

Example
```
[{""task"":""init"",""value"":""No"",""task_label"":""Is the center region of the asteroid image (purple crosshairs)  crowded?""},{""task"":""T1"",""value"":""Yes"",""task_label"":""Is there a source visible in the center of the asteroid image (purple crosshairs)?  ""},{""task"":""T2"",""value"":""looks like the stars (no tail)"",""task_label"":""##### Note: Please always use the source closest to the center in each of the boxes. #####\n\nCompared to the reference stars (green crosshairs), the asteroid (purple crosshairs)....\n""},{""task"":""T3"",""value"":[""Is clean""],""task_label"":""Assess the quality of the asteroid image (purple crosshairs). The image.... **(Select all that apply)**""}]
```

**subject_data** {JSON} - Associated information about the subject classified. The first unlabeled integer is unique subject ID. Most of the rest of the JSON is the metadata for the subject, as uploaded by the project creator. The exception is the field 'retired' which is either 'null' or a JSON string describing the subject's retirement. Details of fields:
- **id** (integer) - The unique Zooniverse-assigned subject ID
- **retired** - provides details about the retirement of that subject. Content is nested within this.
  - **set_member_subject_id** Internal mapping between subjects -> and their sets (thus workflows). To allow subject re-use across projects we create a link table ‘set_member_subjects’ to map between workflows -> sets -> subjects
  - **workflow_id (integer)** - The workflow for which this subject was retired. Subjects can be in multiple workflows, so this may or may not be relevant to the classification data at hand.
  - **classification_count** (integer) - The number of classifications this subject has received
  - **created_at** (datetime in format YYYY-MM-DDTHH:MM:SS.SSSZ) Date the record existed in the Zooniverse database.
  - **updated_at** (datetime in format YYYY-MM-DDTHH:MM:SS.SSSZ) *what is this?*
  - **retired_at** (datetime in format YYYY-MM-DDTHH:MM:SS.SSSZ)- *The time at which... what? The last user clicked 'done'? The time the database calculated retirement?*
  - **subject_id** (integer) - *** kinda redundant to report this here, no? ***
- **multiple columns** returning the metadata uploaded with the initial project

Example
``` {""1289319"":{""retired"":null,""#type"":""MBA"",""#camera"":""SuprimeCam"",""\""#frameid"":""A00547895"",""#filename1"":""SUPA00547895.wcs-mba077087-00-sep02.gallery.png"",""#filename2"":""SUPA00547895.wcs-mba077087-00-sep02-inv.gallery.png"",""#asteroid_id"":""077087""}}
```

## Details

### Detailed annotation data

**Drawing tasks**
- **tool (integer)** - a unique ID for the drawing tool used for a given task
- **tool_label (string)** - the label of the drawing tool used as seen by the user
- **frame (integer)** - For subjects with multiple images, the images are considered "frames"; this gives which "frame" the user classified on.
- **polygons**
  - closed (true/false) - True if the user-drawn polygon was closed. False otherwise.
  - points (JSON formatted string) - A list of the points the user drew in (x,y) coordinate format, with each x and y value as real numbers. x and y values are pixel values relative to origin as upper left.
- **points**
  - x (float) - the horizontal value of the point as a real number using the upper left corner as the origin
  - y (float) - the vertical value of the point as a real number using the upper left corner as the origin     

**Question tasks**
...coming soon!
